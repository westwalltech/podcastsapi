function n(l,e,t,s,r,a,o,g){var i=typeof l=="function"?l.options:l;return e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),a&&(i._scopeId="data-v-"+a),{exports:l,options:i}}const u={mixins:[Fieldtype],computed:{isDarkMode(){return document.documentElement.classList.contains("dark")},selectedEpisodeStyle(){return this.isDarkMode?{backgroundColor:"#1a1a1a",borderColor:"#374151"}:{backgroundColor:"#eff6ff",borderColor:"#bfdbfe"}},searchingStyle(){return this.isDarkMode?{backgroundColor:"#1a1a1a",borderColor:"#374151",color:"#93c5fd"}:{backgroundColor:"#eff6ff",borderColor:"#bfdbfe",color:"#1e40af"}},youtubeHeaderStyle(){return this.isDarkMode?{backgroundColor:"rgba(127, 29, 29, 0.3)",borderColor:"#7f1d1d",color:"#fca5a5"}:{backgroundColor:"#fef2f2",borderColor:"#fecaca",color:"#b91c1c"}},spotifyHeaderStyle(){return this.isDarkMode?{backgroundColor:"rgba(20, 83, 45, 0.3)",borderColor:"#14532d",color:"#86efac"}:{backgroundColor:"#f0fdf4",borderColor:"#bbf7d0",color:"#15803d"}},appleHeaderStyle(){return this.isDarkMode?{backgroundColor:"rgba(88, 28, 135, 0.3)",borderColor:"#581c87",color:"#d8b4fe"}:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff",color:"#7e22ce"}},errorStyle(){return this.isDarkMode?{backgroundColor:"rgba(127, 29, 29, 0.2)",borderColor:"#b91c1c",color:"#fca5a5"}:{backgroundColor:"#fee2e2",borderColor:"#f87171",color:"#b91c1c"}},resultCountStyle(){return this.isDarkMode?{backgroundColor:"rgba(0, 0, 0, 0.3)",color:"inherit"}:{backgroundColor:"rgba(255, 255, 255, 0.7)",color:"inherit"}}},data(){return{episodes:[],searchQuery:"",episodeStatus:"published",episodeLimit:20,selectedEpisodeId:null,loading:!1,searchingPlatforms:!1,searchingYouTube:!1,error:null,searchTimeout:null,platformResults:null,platformWarnings:null,selectedYouTube:null,selectedSpotify:null,selectedApple:null,manualYouTube:"",manualSpotify:"",manualApple:""}},mounted(){this.loadEpisodes(),this.value&&this.value.episode_id&&(this.selectedEpisodeId=this.value.episode_id,this.selectedYouTube=this.value.youtube_link||null,this.selectedSpotify=this.value.spotify_link||null,this.selectedApple=this.value.apple_podcasts_link||null,this.manualYouTube=this.value.youtube_link||"",this.manualSpotify=this.value.spotify_link||"",this.manualApple=this.value.apple_podcasts_link||"")},methods:{async loadEpisodes(l=""){this.loading=!0,this.error=null;try{const e=await this.$axios.get("/cp/podcast-link-finder/search-episodes",{params:{query:l,status:this.episodeStatus,limit:this.episodeLimit}});this.episodes=e.data.episodes||[]}catch(e){this.error="Failed to load episodes. Please check your API credentials.",console.error(e)}finally{this.loading=!1}},debouncedSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.loadEpisodes(this.searchQuery)},500)},async onEpisodeSelected(){if(!this.selectedEpisodeId){this.update({episode_id:null,episode_title:null,spotify_link:null,apple_podcasts_link:null,youtube_link:null}),this.platformResults=null,this.selectedYouTube=null,this.selectedSpotify=null,this.selectedApple=null,this.manualYouTube="",this.manualSpotify="",this.manualApple="";return}const l=this.episodes.find(e=>e.id===this.selectedEpisodeId);this.update({episode_id:l.id,episode_title:l.title,spotify_link:null,apple_podcasts_link:null,youtube_link:null}),this.platformResults=null,this.platformWarnings=null,this.selectedYouTube=null,this.selectedSpotify=null,this.selectedApple=null,this.manualYouTube="",this.manualSpotify="",this.manualApple="",this.config.auto_find!==!1&&await this.searchAllPlatforms()},async searchAllPlatforms(l=!1){this.searchingPlatforms=!0,this.error=null;try{const e=await this.$axios.post("/cp/podcast-link-finder/search-platforms",{episode_id:this.selectedEpisodeId,force_youtube:l});e.data.success&&(this.platformResults=e.data.results,this.platformWarnings=e.data.warnings||null,this.config.auto_find!==!1&&(this.platformResults.youtube.length>0&&(this.selectedYouTube=this.platformResults.youtube[0].url,this.onYouTubeSelected()),this.platformResults.spotify.length>0&&(this.selectedSpotify=this.platformResults.spotify[0].url,this.onSpotifySelected()),this.platformResults.apple_podcasts.length>0&&(this.selectedApple=this.platformResults.apple_podcasts[0].url,this.onAppleSelected())))}catch(e){this.error="Failed to search platforms. You can enter links manually.",console.error(e)}finally{this.searchingPlatforms=!1}},async forceYouTubeSearch(){this.searchingYouTube=!0;try{const l=await this.$axios.post("/cp/podcast-link-finder/search-platforms",{episode_id:this.selectedEpisodeId,force_youtube:!0});l.data.success&&(this.platformResults.youtube=l.data.results.youtube||[],this.platformWarnings&&(this.platformWarnings.youtube=null),this.platformResults.youtube.length>0&&(this.selectedYouTube=this.platformResults.youtube[0].url,this.onYouTubeSelected()))}catch(l){console.error("YouTube search failed:",l)}finally{this.searchingYouTube=!1}},onYouTubeSelected(){this.manualYouTube=this.selectedYouTube||"",this.updateLinks()},onSpotifySelected(){this.manualSpotify=this.selectedSpotify||"",this.updateLinks()},onAppleSelected(){this.manualApple=this.selectedApple||"",this.updateLinks()},onManualYouTubeInput(){this.selectedYouTube=this.manualYouTube,this.updateLinks()},onManualSpotifyInput(){this.selectedSpotify=this.manualSpotify,this.updateLinks()},onManualAppleInput(){this.selectedApple=this.manualApple,this.updateLinks()},updateLinks(){this.update({...this.value,spotify_link:this.selectedSpotify||null,apple_podcasts_link:this.selectedApple||null,youtube_link:this.selectedYouTube||null})},formatDate(l){return l?new Date(l).toLocaleDateString():""}}};var d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"podcast-link-finder"},[t("div",{staticClass:"mb-6"},[t("label",{staticClass:"publish-field-label"},[e._v("Select Episode from Transistor")]),t("div",{staticClass:"flex gap-2 mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"input-text flex-1",attrs:{type:"text",placeholder:"Search episodes..."},domProps:{value:e.searchQuery},on:{input:[function(s){s.target.composing||(e.searchQuery=s.target.value)},e.debouncedSearch]}}),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.episodeStatus,expression:"episodeStatus"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.episodeStatus=s.target.multiple?r:r[0]},function(s){return e.loadEpisodes(e.searchQuery)}]}},[t("option",{attrs:{value:"published"}},[e._v("Published")]),t("option",{attrs:{value:"scheduled"}},[e._v("Scheduled")]),t("option",{attrs:{value:"draft"}},[e._v("Draft")]),t("option",{attrs:{value:"all"}},[e._v("All Episodes")])]),t("div",{staticClass:"select-chevron"},[t("svg",{attrs:{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.episodeLimit,expression:"episodeLimit"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.episodeLimit=s.target.multiple?r:r[0]},function(s){return e.loadEpisodes(e.searchQuery)}]}},[t("option",{domProps:{value:20}},[e._v("20")]),t("option",{domProps:{value:50}},[e._v("50")]),t("option",{domProps:{value:100}},[e._v("100")])]),t("div",{staticClass:"select-chevron"},[t("svg",{attrs:{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])])]),e.loading?t("div",{staticClass:"flex items-center py-2 text-gray-600 dark:text-dark-150"},[t("svg",{staticClass:"animate-spin h-4 w-4 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t("span",{staticClass:"text-sm"},[e._v("Loading episodes...")])]):t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEpisodeId,expression:"selectedEpisodeId"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.selectedEpisodeId=s.target.multiple?r:r[0]},e.onEpisodeSelected]}},[t("option",{domProps:{value:null}},[e._v("-- Select an episode --")]),e._l(e.episodes,function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.title)+" ("+e._s(e.formatDate(s.published_at))+") ")])})],2)]),e.value.episode_title?t("div",{staticClass:"card mb-6",style:e.selectedEpisodeStyle},[t("div",{staticClass:"flex items-center justify-between"},[t("div",[t("div",{staticClass:"text-xs uppercase tracking-wide text-gray-600 dark:text-dark-150 mb-1"},[e._v("Selected Episode")]),t("div",{staticClass:"font-medium text-gray-900 dark:text-dark-100"},[e._v(e._s(e.value.episode_title))])]),!e.searchingPlatforms&&!e.platformResults?t("button",{staticClass:"btn-primary",attrs:{type:"button"},on:{click:e.searchAllPlatforms}},[e._v(" Search Platforms ")]):e._e()])]):e._e(),e.searchingPlatforms?t("div",{staticClass:"card mb-6",style:e.searchingStyle},[t("div",{staticClass:"flex items-center"},[t("svg",{staticClass:"animate-spin h-4 w-4 mr-3 text-blue-600",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t("span",{staticClass:"text-sm"},[e._v("Searching across platforms...")])])]):e._e(),e.platformResults?t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"text-xs uppercase tracking-wide text-gray-600 dark:text-dark-150 mb-2"},[e._v("Platform Links")]),t("div",{staticClass:"card p-0 overflow-hidden"},[t("div",{staticClass:"flex items-center gap-2 px-4 py-3 border-b",style:e.youtubeHeaderStyle},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[t("path",{attrs:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"}})]),t("span",{staticClass:"font-semibold"},[e._v("YouTube")]),e.platformResults.youtube.length>0?t("span",{staticClass:"ml-auto text-xs px-2 py-1 rounded",style:e.resultCountStyle},[e._v(" "+e._s(e.platformResults.youtube.length)+" found ")]):e._e()]),e.platformResults.youtube.length>0?t("div",{staticClass:"p-4"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYouTube,expression:"selectedYouTube"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.selectedYouTube=s.target.multiple?r:r[0]},e.onYouTubeSelected]}},[t("option",{domProps:{value:null}},[e._v("-- Select a video --")]),e._l(e.platformResults.youtube,function(s,r){return t("option",{key:r,domProps:{value:s.url}},[e._v(" "+e._s(s.title)+" ("+e._s(s.score)+"% match) ")])})],2),e.selectedYouTube?t("div",{staticClass:"mt-2 flex items-center gap-2 text-sm text-gray-700 dark:text-dark-150"},[t("svg",{staticClass:"w-4 h-4 text-green-600",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t("a",{staticClass:"text-blue-600 dark:text-blue-400 hover:underline truncate",attrs:{href:e.selectedYouTube,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.selectedYouTube)+" ")])]):e._e()]):t("div",{staticClass:"p-4"},[e.platformWarnings&&e.platformWarnings.youtube?t("div",{staticClass:"text-sm text-amber-700 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded p-3"},[t("div",{staticClass:"flex items-center justify-between gap-4"},[t("div",{staticClass:"flex items-start gap-2"},[t("svg",{staticClass:"w-4 h-4 mt-0.5 flex-shrink-0",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"}})]),t("span",[e._v(e._s(e.platformWarnings.youtube))])]),e.searchingYouTube?t("span",{staticClass:"text-xs"},[e._v("Searching...")]):t("button",{staticClass:"btn-primary text-xs px-2 py-1 flex-shrink-0",attrs:{type:"button"},on:{click:e.forceYouTubeSearch}},[e._v(" Search Anyway ")])])]):t("div",{staticClass:"text-gray-500 dark:text-dark-150 text-sm"},[e._v(" No matches found ")])])]),t("div",{staticClass:"card p-0 overflow-hidden"},[t("div",{staticClass:"flex items-center gap-2 px-4 py-3 border-b",style:e.spotifyHeaderStyle},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[t("path",{attrs:{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"}})]),t("span",{staticClass:"font-semibold"},[e._v("Spotify")]),e.platformResults.spotify.length>0?t("span",{staticClass:"ml-auto text-xs px-2 py-1 rounded",style:e.resultCountStyle},[e._v(" "+e._s(e.platformResults.spotify.length)+" found ")]):e._e()]),e.platformResults.spotify.length>0?t("div",{staticClass:"p-4"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSpotify,expression:"selectedSpotify"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.selectedSpotify=s.target.multiple?r:r[0]},e.onSpotifySelected]}},[t("option",{domProps:{value:null}},[e._v("-- Select an episode --")]),e._l(e.platformResults.spotify,function(s,r){return t("option",{key:r,domProps:{value:s.url}},[e._v(" "+e._s(s.title)+" ("+e._s(s.score)+"% match) ")])})],2),e.selectedSpotify?t("div",{staticClass:"mt-2 flex items-center gap-2 text-sm text-gray-700 dark:text-dark-150"},[t("svg",{staticClass:"w-4 h-4 text-green-600",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t("a",{staticClass:"text-blue-600 dark:text-blue-400 hover:underline truncate",attrs:{href:e.selectedSpotify,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.selectedSpotify)+" ")])]):e._e()]):t("div",{staticClass:"p-4 text-gray-500 dark:text-dark-150 text-sm"},[e._v(" No matches found ")])]),t("div",{staticClass:"card p-0 overflow-hidden"},[t("div",{staticClass:"flex items-center gap-2 px-4 py-3 border-b",style:e.appleHeaderStyle},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[t("path",{attrs:{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"}})]),t("span",{staticClass:"font-semibold"},[e._v("Apple Podcasts")]),e.platformResults.apple_podcasts.length>0?t("span",{staticClass:"ml-auto text-xs px-2 py-1 rounded",style:e.resultCountStyle},[e._v(" "+e._s(e.platformResults.apple_podcasts.length)+" found ")]):e._e()]),e.platformResults.apple_podcasts.length>0?t("div",{staticClass:"p-4"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedApple,expression:"selectedApple"}],staticClass:"input-text",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.selectedApple=s.target.multiple?r:r[0]},e.onAppleSelected]}},[t("option",{domProps:{value:null}},[e._v("-- Select an episode --")]),e._l(e.platformResults.apple_podcasts,function(s,r){return t("option",{key:r,domProps:{value:s.url}},[e._v(" "+e._s(s.title)+" ("+e._s(s.score)+"% match) ")])})],2),e.selectedApple?t("div",{staticClass:"mt-2 flex items-center gap-2 text-sm text-gray-700 dark:text-dark-150"},[t("svg",{staticClass:"w-4 h-4 text-green-600",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t("a",{staticClass:"text-blue-600 dark:text-blue-400 hover:underline truncate",attrs:{href:e.selectedApple,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.selectedApple)+" ")])]):e._e()]):t("div",{staticClass:"p-4 text-gray-500 dark:text-dark-150 text-sm"},[e._v(" No matches found ")])])]):e._e(),e.config.allow_manual_override&&e.value.episode_id?t("div",{staticClass:"mt-6 pt-6 border-t border-gray-200 dark:border-dark-900"},[t("details",[t("summary",{staticClass:"cursor-pointer text-sm text-gray-600 dark:text-dark-150 hover:text-gray-800 dark:hover:text-dark-100 select-none"},[e._v(" Enter links manually ")]),t("div",{staticClass:"mt-4 space-y-6"},[t("div",[t("label",{staticClass:"publish-field-label text-sm"},[e._v("YouTube URL")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.manualYouTube,expression:"manualYouTube"}],staticClass:"input-text",attrs:{type:"url",placeholder:"https://www.youtube.com/watch?v=..."},domProps:{value:e.manualYouTube},on:{input:[function(s){s.target.composing||(e.manualYouTube=s.target.value)},e.onManualYouTubeInput]}})]),t("div",[t("label",{staticClass:"publish-field-label text-sm"},[e._v("Spotify URL")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.manualSpotify,expression:"manualSpotify"}],staticClass:"input-text",attrs:{type:"url",placeholder:"https://open.spotify.com/episode/..."},domProps:{value:e.manualSpotify},on:{input:[function(s){s.target.composing||(e.manualSpotify=s.target.value)},e.onManualSpotifyInput]}})]),t("div",[t("label",{staticClass:"publish-field-label text-sm"},[e._v("Apple Podcasts URL")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.manualApple,expression:"manualApple"}],staticClass:"input-text",attrs:{type:"url",placeholder:"https://podcasts.apple.com/..."},domProps:{value:e.manualApple},on:{input:[function(s){s.target.composing||(e.manualApple=s.target.value)},e.onManualAppleInput]}})])])])]):e._e(),e.error?t("div",{staticClass:"card mb-6",style:e.errorStyle},[t("div",{staticClass:"flex items-start"},[t("svg",{staticClass:"w-5 h-5 mr-2 flex-shrink-0",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"}})]),t("span",{staticClass:"text-sm"},[e._v(e._s(e.error))])])]):e._e()])},c=[],p=n(u,d,c,!1,null,"8bd07b1a");const f=p.exports,m={mixins:[Fieldtype],data(){return{fetching:!1,error:null}},computed:{isDarkMode(){return document.documentElement.classList.contains("dark")},cardStyle(){return this.isDarkMode?{backgroundColor:"rgba(30, 58, 138, 0.2)",borderColor:"#1e3a8a"}:{backgroundColor:"#eff6ff",borderColor:"#bfdbfe"}},successCardStyle(){return this.isDarkMode?{backgroundColor:"rgba(20, 83, 45, 0.2)",borderColor:"#14532d"}:{backgroundColor:"#f0fdf4",borderColor:"#bbf7d0"}},errorStyle(){return this.isDarkMode?{backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#fca5a5"}:{backgroundColor:"#fee2e2",color:"#b91c1c"}}},methods:{async fetchLivestream(){if(!this.meta.entryId){this.error="Please save the entry first before fetching the livestream.";return}this.fetching=!0,this.error=null;try{const l=await this.$axios.post(`/cp/podcast-link-finder/youtube-livestream/${this.meta.entryId}`);l.data.success?this.update(l.data.url):this.error=l.data.message||"Failed to fetch livestream"}catch(l){console.error("Livestream fetch error:",l),l.response&&l.response.data&&l.response.data.message?this.error=l.response.data.message:this.error="Failed to fetch livestream. Please try again."}finally{this.fetching=!1}},clearUrl(){this.update(null),this.error=null}}};var h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"youtube-livestream-fieldtype"},[e.meta.enabled?!e.value&&e.meta.showButton?t("div",{staticClass:"card",style:e.cardStyle},[t("div",{staticClass:"flex items-center justify-between gap-4"},[t("div",{staticClass:"flex-1"},[t("div",{staticClass:"text-sm font-medium",class:e.isDarkMode?"text-blue-300":"text-blue-800"},[e._v(" Fetch YouTube Livestream ")]),t("div",{staticClass:"text-xs mt-0.5",class:e.isDarkMode?"text-blue-400":"text-blue-600"},[e._v(" Auto-fetch the scheduled livestream for this message's air date ")])]),e.fetching?t("span",{staticClass:"flex items-center text-xs",class:e.isDarkMode?"text-blue-300":"text-blue-600"},[t("svg",{staticClass:"animate-spin h-4 w-4 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),e._v(" Fetching... ")]):t("button",{staticClass:"btn-primary text-xs px-3 py-1.5 flex-shrink-0",attrs:{type:"button"},on:{click:e.fetchLivestream}},[e._v(" Fetch Livestream ")])]),e.error?t("div",{staticClass:"mt-3 text-sm p-3 rounded",style:e.errorStyle},[t("div",{staticClass:"flex items-start gap-2"},[t("svg",{staticClass:"w-4 h-4 mt-0.5 flex-shrink-0",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"}})]),t("span",[e._v(e._s(e.error))])])]):e._e()]):e.value?t("div",{staticClass:"card",style:e.successCardStyle},[t("div",{staticClass:"flex items-center gap-3"},[t("svg",{staticClass:"w-5 h-5 flex-shrink-0",class:e.isDarkMode?"text-green-400":"text-green-600",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t("div",{staticClass:"flex-1 min-w-0"},[t("div",{staticClass:"text-sm font-medium",class:e.isDarkMode?"text-green-300":"text-green-800"},[e._v(" YouTube Livestream ")]),t("a",{staticClass:"text-sm text-blue-600 dark:text-blue-400 hover:underline truncate block",attrs:{href:e.value,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(e.value)+" ")])]),t("button",{staticClass:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1",attrs:{type:"button",title:"Clear URL"},on:{click:e.clearUrl}},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])]):t("div",{staticClass:"text-sm text-gray-500 dark:text-dark-150"},[e.meta.airDate?t("span",[e._v("Air date is in the past")]):t("span",[e._v("Set an air date to enable livestream fetch")])]):t("div",{staticClass:"text-sm text-gray-500 dark:text-dark-150"},[e._v(" YouTube Livestream fetch is disabled ")])])},v=[],b=n(m,h,v,!1,null,"0fa49322");const y=b.exports;Statamic.$components.register("podcast_link_finder-fieldtype",f);Statamic.$components.register("you_tube_livestream-fieldtype",y);
